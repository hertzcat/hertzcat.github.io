<html>
  <head>
    <title>万里长征第一步，博客搭建 - 算力喵</title>
    <link href='/images/fav.jpg' rel='shortcut icon'>
<link href='/atom.xml' rel='alternate' type='application/rss+xml'>
<link rel="stylesheet" href="/css/style.css">
<link rel="stylesheet" href="/css/highlight.css">
<link rel="stylesheet" href="/css/responsive.css">
<link rel="stylesheet" href="/css/iconfont.css">
<script src="/js/jquery.js"></script>
<script src="/js/basics.js"></script>
<meta content='width=device-width, initial-scale=1.0, user-scalable=no' name='viewport'>
<meta content='text/html; charset=utf-8' http-equiv='content-type'>

  <meta name="keywords" content="Hexo,博客,Github,Coding,机器学习,Machine Learning,算力喵">


  <script>
  (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
  (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
  m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
  })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

  ga('create', 'UA-115469277-1');
  ga('send', 'pageview');
</script>



  <script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.4/MathJax.js?config=TeX-MML-AM_CHTML"></script>

  </head>
  <body>
    <header>
  <a id='go-back-home' href='/'><img class='avatar' src='/images/scribble.jpg' alt='Home'></a>
  <p id='title'>算力喵</p>
  <p>机器学习不能停~</p>
  <br>
  
  <div class="social-links">
    
      
        <a href="https://weibo.com/hertzcat" class="iconfont icon-weibo" title="weibo"></a>
      
    
      
        <a href="https://www.zhihu.com/people/hertzcat" class="iconfont icon-zhihu" title="zhihu"></a>
      
    
      
        <a href="https://twitter.com/hertzcat0" class="iconfont icon-twitter" title="twitter"></a>
      
    
  </div>
  
</header>

    <div id='container'>
      <div class='block'>
  
    <a class='main' href='/'>Blog</a>
  
    <a class='main' href='https://github.com/hertzcat'>Github</a>
  
</div>

      <section class='paging'>
  
    <div class='left'>
      <a href='/2018/03/24/coursera-ml-andrewng-linear-regression/'>
        ‹
      </a>
    </div>
  
  
</section>

      <div class='content'>
        <section class='post'>
          <h1>
            <!-- <div class='date'>2018-03-11</div> -->
            万里长征第一步，博客搭建
          </h1>
          <p>Hi~，大家好我是算力喵。2018 年的某天脑子突然一抽抽，决定开始学习 Machine Learning，所以有了这个博客。这个站有三个作用，一个是记录和监督自己的学习过程；一个是把从大牛那里学到的东西分享出来；还有一个是想结交一些小伙伴一同迈向机器学习的巨坑~</p>
<p>So~，首先要感谢大佬们把我从 VPS + WordPress 的巨坑中拉了出来。虽然之前的博客不太维护了，但每年还是白花了不少银子养着服务器。到现在才知道利用 Github 和 Coding 来搭建免费的博客，真是惭愧~。</p>
<p>为了回报社会，我也把我搭建博客的过程分享出来，能救一个是一个 [捂脸] ~</p>
<p>建站时的设想是使用 Hexo 作为博客的框架，写的文章分别发布到 Github 和 Coding。站点的域名统一为 <code>hertzcat.com</code>。对于国内的同学域名解析到 Coding Pages，歪果仁解析到 Github Pages。下面就是按照设想一步步搭建博客的步骤。</p>
<h3 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h3><p>首先做好准备工作，安装好 Git 和 Node.js，使用 Node.js 的包管理工具 npm 安装 Hexo。<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-cli -g</span><br></pre></td></tr></table></figure></p>
<p>安装完成后运行下面的命令来构建整个博客目录。<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">hexo init &lt;folder&gt;</span><br><span class="line"><span class="built_in">cd</span> &lt;floder&gt;</span><br><span class="line">npm install</span><br></pre></td></tr></table></figure></p>
<p>接着启动本地 Hexo 服务，默认地址为 <code>http://localhost:4000</code>。<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo s</span><br></pre></td></tr></table></figure></p>
<p>打开默认地址，我们就能看到本地运行的 Hello world 博客啦。</p>
<h3 id="Github-Pages"><a href="#Github-Pages" class="headerlink" title="Github Pages"></a>Github Pages</h3><p>我就说下 Github Pages 的创建，Coding Pages 基本可以举一反三。</p>
<ul>
<li>首先创建一个名为 <code>&lt;your_id&gt;.github.io</code> 的仓库，记得勾上自动创建 <code>README</code>。</li>
<li>在仓库的 Settings 页面，滚到 Github Pages 位置，选择 <code>master branch</code>。</li>
<li>在个人账号 Settings 页面下创建 <code>ssh key</code>，这是为了避免将来发布文章的时候要经常输密码。通常你只需要把 <code>.ssh</code> 目录下 <code>id_rsa.pub</code> 的内容复制粘贴进去就行了。如果默认的公钥 <code>id_rsa.pub</code> 不存在或者你要使用自己的公钥，可以通过 <code>ssh-keygen</code> 命令创建。还需要在 <code>.ssh</code> 目录下的 <code>config</code> 中添加下面的内容来让机器知道登录 git 仓库的时候使用哪个公钥。</li>
</ul>
<pre><code>Host github.com
HostName github.com
User git
IdentityFile ~/.ssh/hertzcat_rsa
IdentitiesOnly yes
</code></pre><h3 id="配置与发布"><a href="#配置与发布" class="headerlink" title="配置与发布"></a>配置与发布</h3><p>我们还需要在本地做一些配置才能将我们的博客发布到 Github 上。在 <code>blog</code> 目录下配置 <code>_config.yml</code> 文件最后的 <code>deploy</code> 部分，这里的 git 是通过 ssh 方式操作的。</p>
<pre><code>deploy:
type: git
repository:
    github: git@github.com:hertzcat/hertzcat.github.io.git
    coding: git@git.coding.net:hertzcat/hertzcat.coding.me.git
branch: master
</code></pre><p>然后配置 git 提交时候的名字和邮箱。<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name <span class="string">"yourname"</span></span><br><span class="line">git config --global user.email <span class="string">"youremail"</span></span><br></pre></td></tr></table></figure></p>
<p><code>cd</code> 到 <code>blog</code> 目录下生成静态页面。<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo g</span><br></pre></td></tr></table></figure></p>
<p>部署你的博客，如果第一次运行失败的话先运行 <code>npm install hexo-deployer-git --save</code><br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">hexo d</span><br></pre></td></tr></table></figure></p>
<p>自此你就可以通过 <code>&lt;your_id&gt;.github.io</code> 访问你的博客啦。</p>
<h3 id="域名解析"><a href="#域名解析" class="headerlink" title="域名解析"></a>域名解析</h3><p>这里使用 DNSPod 来做域名解析服务，所以你需要在你的域名服务商那里替换掉 DNS 的服务器地址，使用 DNSPod 的。</p>
<pre><code>f1g1ns1.dnspod.net
f1g1ns2.dnspod.net
</code></pre><p>然后在 DNSPod 上创建一个新的域名解析，具体解析的配置见下图。<br><img src="/2018/03/11/build-hexo-blog/dnspod.jpg" title="[DNSPod 域名解析]"></p>
<p>最后对于 Github 你需要在 <code>blog/source</code> 目录下添加一个 <code>CNAME</code> 文件，里面就写一行你的域名，比如 <code>hertzcat.com</code>。而对于 Coding，你需要在项目的 Pages 服务中绑定你的域名。Coding Pages 默认先会跳转到一个广告页，如果想去掉的话一个是升级会员，还可以在博客页加上 Coding 指定的代码。</p>
<h3 id="插入图片"><a href="#插入图片" class="headerlink" title="插入图片"></a>插入图片</h3><p>本来正在申请七牛云存储来作为图床，然后突然发现 Hexo 官网说 Hexo 3 已经将一些常用插件加入到了核心代码里。所以开启图片功能只需要先配置 <code>_config.yml</code> 文件。</p>
<pre><code>post_asset_folder: true
</code></pre><p>将 <code>post_asset_folder</code> 参数设置为 <code>true</code> 。不知道 Github 和 Coding 作为图床的速度怎么样，先试试看，之后不行再换七牛。要在文章中插入图片或资源就是用下面的代码。</p>
<pre><code>{% asset_path slug %}
{% asset_img slug [title] %}
{% asset_link slug [title] %}
</code></pre><h3 id="添加社交链接"><a href="#添加社交链接" class="headerlink" title="添加社交链接"></a>添加社交链接</h3><p>要想添加社交账号的链接也是蛮容易的。比如你要为自己的主题添加社交账号链接功能，先在主题的配置文件中添加账号信息。</p>
<pre><code># social links settings
social:
    weibo: https://weibo.com/hertzcat
    zhihu: https://www.zhihu.com/people/hertzcat
    twitter: https://twitter.com/hertzcat0
</code></pre><p>然后在需要添加链接的模板文件中加上如何显示这些信息就行了。这里社交平台的 icon 使用了 iconfont 上的。<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">theme.social</span>) &#123; %&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">br</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">"social-links"</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">%</span> <span class="attr">for</span> (<span class="attr">var</span> <span class="attr">name</span> <span class="attr">in</span> <span class="attr">theme.social</span>) &#123; %&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> <span class="attr">if</span> (<span class="attr">name</span>) &#123; %&gt;</span></span><br><span class="line">      <span class="tag">&lt;<span class="name">a</span> <span class="attr">href</span>=<span class="string">"&lt;%- url_for(theme.social[name]) %&gt;"</span> <span class="attr">class</span>=<span class="string">"iconfont icon-&lt;%- name %&gt;"</span> <span class="attr">title</span>=<span class="string">"&lt;%- name %&gt;"</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">%</span> &#125; %&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="数学公式"><a href="#数学公式" class="headerlink" title="数学公式"></a>数学公式</h3><p>数学公式这个功能折腾了一两个小时。一开始使用 hexo-math 怎么都不成功，后来看了一些文章，理了下思路搞明白了。首先我们希望 hexo 的 markdown 渲染器跳过一定的标识比如 $$。然后要在网页中显示出公式我们只需要在页面上引用 MathJax 的 js 文件就可以了。所以根据网友的填坑经验我们先更换 render。<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm uninstall hexo-renderer-marked --save</span><br><span class="line">npm install hexo-renderer-kramed --save</span><br></pre></td></tr></table></figure></p>
<p>安装 hexo-renderer-mathjax 插件，功能是帮你改写 MathJax 能够识别的 Html 标签。<br><figure class="highlight zsh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-mathjax --save</span><br></pre></td></tr></table></figure></p>
<p>对于最新版本的 Hexo，并不需要添加 plugins。然后我们在主题的 _config.yml 文件中放上 cdn 和开关参数方便配置。</p>
<pre><code># MathJax support
mathjax:
    enable: true
    cdn: //cdn.bootcss.com/mathjax/2.7.3/MathJax.js?config=TeX-MML-AM_CHTML
</code></pre><p>最后在模板文件中合适的位置添加 MathJax js 的引用就可以了。我的话是新建了一个文件，然后使用 enable 来判断是否加入 js 文件。</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">"text/javascript"</span> <span class="attr">src</span>=<span class="string">"&lt;%- url_for(theme.mathjax.cdn) %&gt;"</span>&gt;</span><span class="undefined"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">`$a + b = c$` 行内公式</span><br><span class="line">$$a + b = c$$ 单行公式</span><br></pre></td></tr></table></figure>
<h3 id="常用功能记录"><a href="#常用功能记录" class="headerlink" title="常用功能记录"></a>常用功能记录</h3><ul>
<li><code>hexo new &quot;postName&quot;</code> 新建文章。</li>
<li><code>hexo new page &quot;pageName&quot;</code> 新建页面。</li>
<li><code>hexo clean</code> <code>hexo g</code> <code>hexo d</code> 写完文章后的发布。</li>
<li><code>hexo s</code> 本地预览。</li>
<li>修改 <code>_config.yml</code> 中的 <code>theme</code> 参数可以跟换主题，主题存放在 <code>blog/themes</code> 路径下。</li>
</ul>
<p>之后还会对这个博客进行不断的更新迭代，添加的功能都会记录到这里。</p>

          <br>
<p>hertzcat</p>
<p class='date'>2018-03-11</p>

        </section>
      </div>
      
        <div class='block'>
  <div id='disqus_thread'></div>
  <script>
    var disqus_shortname = 'hertzcat';
    (function() {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
  </script>
  <noscript>Please enable JavaScript to view the <a href='http://disqus.com/?ref_noscript'>comments powered by Disqus.</a></noscript>
</div>

      
      <div class='block'>
  
    <a class='main' href='/'>Blog</a>
  
    <a class='main' href='https://github.com/hertzcat'>Github</a>
  
</div>

    </div>
    <footer>
  <p>Hosted by <a href="https://pages.coding.me" style="font-weight: bold">Coding Pages</a></p>
  <span class='muted'>&copy; hertzcat. All Rights Reserved.</span><br>
  <a href='https://github.com/saintwinkle/hexo-theme-scribble' class='muted'>built with Hexo using Scribble theme</a>
  <br>
</footer>

  </body>
</html>
